# 리눅스 명령어 과제

**1. top 명령어**
+ 리눅스 우분투(Linux Ubuntu)에서 top 명령어를 사용하여 시스템 사용량을 실시간으로 확인할 수 있다.
+ top 명령어는 리눅스 시스템이 실행되고 난 후 부터 지금까지의 시간과 시스템에 로그인된 사용자 수를 보여준다.
+ top 명령어는 시스템 부하율을 표시하는 명령어인 uptime의 결과를 가장 상단에 표시해주며, 그 아래로 프로세스 수치, CPU 정보, 메모리 정보를 보여주고, 각 프로세스 별 부하율과 상태를 표시해준다.

> 사용 구문
```
top [옵션]
```
```
-b: 배치모드로 정보를 출력한다. 실시간 상화 대화혈모드로 정보를 화면에 일렬로 출력한다.
-d delay: 지정한 시간(delay 초)의 간격으로 정보를 업데이트하여 출력한다.
-i idle: 토글값이 off일 때, idle 프로세스나 좀비 프로세스 정보를 출력하지 않는다.
-n num: 지정한 시간(num)만큼 업데이트 정보를 출력한다.
-p pid: 지정한 프로세스 ID(pid)의 정보만을 출력한다.
-q: 시간의 간격 없이 계속하여 업데이트 정보를 출력한다.
-s: 몇 개의 대화식 명령을 비활성화한다.(시큐어 모드)
-S: 누적된 정보를 출력한다.(cumulative 모드)
```

> top 단축기 명령어
- space: 정보를 업데이트한다.
- ^L: 스크린을 다시 초기화한다.
- F of f: 
  + 필드를 추가하거나 제거한다
  + 확인하고자 하는 항목의 알파벳을 누를 때마다 선택/취소가 반복된다.
- O or o:
  + 출력하는 필드의 정렬 순서를 변경한다.
  + 대문자로 선택한 항목을 누르면 왼쪽으로 이동하고 소문자를 누르면 오른쪽으로 이동한다.
- h on ?: 사용 가능한 명령어를 출력한다.
- k: 프로세스를 종료시킨다.
- n or #: 출력할 프로세스의 수를 지정한다.
- s: 출력할 정보의 업데이트 시간을 지정한다.
- W: ~/.toprc에 설정된 내용을 저장한다.
- q: top을 종료한다.

> top 보기 수정 단축기
- 출력되는 메인 정보 창 중에 상단의 정보를 수정한다.
- r: 프로세스의 우선순위를 변경한다
- N: pid 정보를 기준으로 정렬한다.
- A: age 정보를 기준으로 정렬한다.
- P: CPU 사용량을 기준으로 정렬한다.
- M: 적재된 메모리 사용량을 기준으로 정렬한다.
- T: 시간/누적시간을 기준으로 정렬한다
- u: 지정한 사용자의 정보만을 출력한다.

> top 실행 후 명령어
- shift + p: CPU 사용률 내림차순한다.
- shift + m : 메모리 사용률 내림차순한다.
- shift + t : 프로세스가 돌아가고 있는 시간 순을 보여준다.
- k: kill. k 입력 후 PID 번호 작성한다. signal은 9
- f: sort field 선택화면 -> q 누르면 RES 순으로 정렬한다.
- a: 메모리 사용량에 따라 정렬한다.
- b: Batch 모드로 작동한다.
- 1: CPU Core 별로 사용량 보여준다.

> top 명령을 실행한 사진
<img width="422" alt="top" src="https://github.com/deokhwan12/report/assets/133830093/6a2a310d-2571-4a7f-9b65-8fba98d4173f">

---
**2. ps 명령어**
+ 리눅스에서는 여러 개의 프로세스가 동시에 실행되기 때문에 현재 실행 중인 프로세스의 정보를 얻기 위해 사용된다.
+ 프로세스 중에서 CPU, 메모리 등등을 많이 점유하고 있거나, 지나치게 많은 자식 프로세스를 생셩하는 등등에 시스템에 속도가 느려지는 시스템 오류를 감지할 수 있다.

> 사용 구문
```
ps [옵션]
```

> 전체 프로세스와 관련된 옵션
- -A: 모든 프로세스를 출력한다.
- -N: -A 옵션과 비슷하나 ps 프로세스를 제외하고 출력한다.
- -a: 세션 리더 및 터미널에 속하지 않는 프로세스를 제외하고 출력한다.
- -d: 세션 리더를 제외한 모든 프로세스를 출력한다.
- -e: 커널 프로세스를 제외한 모든 프로세스를 출력한다.
- T: 현재 터미널에서의 모든 프로세스를 출력한다.
- a: 현재 터미널의 사용자 고유 프로세스를 출력한다.
- r: 현재 실행 중인 프로세스를 출력한다.
- x: 터미널이 없는 프로세스를 출력한다.
- --deselect: -N 옵션과 같다.

> 특정 프로세스를 선택하여 보여주는 옵션
- -C: 지정한 명령어의 이름에 관련된 정보를 출력한다.
- -G: 그룹 ID에 관련된 정보를 출력한다.(이름도 지원)
- -U: 사용자 ID에 관련된 정보를 출력한다.(이름도 지원)
- -g: 지정한 세션 리더 혹은 그룹명에 관련한 정보를 출력한다.
- -p: 프로세스 ID를 출력한다.
- -s: 세션에 속한 프로세스를 지정한다.
- -t: tty를 지정한다.
- -u: 사용자 ID를 지정한다.(이름도 지원)
- U: 지정한 사용자의 프로세스를 출력한다.
- P:프로세스 ID를 지정한다.
- t: tty를 지정한다.
- --tty: 터미널을 지정한다.
- --user: 유효 사용자 이름이나 ID를 지정한다.
- -123: --sid 123과 같은 의미이다.
- 123: --pid 123과 같은 의미이다.

> 출력 결과 필드를 제어하는 옵션
- -0: PID, TTY, STAT, TIME, COMMAND 등의 필드 목록을 출력한다
- -c: PID, CLS, PRI, TTY, TIME, CMD 등의 필드 목록을 출력한다.
- -f: UID, PID, PPID, C, STIME, TTY, TIME, CMD 등의 필드를 CMD 필드의 전체 명령어 형태로 출력한다.
- -j: PID, PGID, SID, TTY, TIME, CMD 등의 필드 목록을 출력한다.
- -l: F, S, UID, PID, PPID, C, PRI, NI, ADDR, SZ, WCHAN, TTY, TIME, CMD 필드의 상세 정보를 출력한다.
- -o: 사용자가 정의한 포맷을 지정한다.
- -y: -l 이나 l 옵션과 함께 ADDR 필드를 RSS 필드로 출력한다.
- 0: PID, TTY, STAT, IME COMMAND 필드 정보를 출력한다.
- X: PID, STACKP, ESP, EIP, TMOUT, ALARM, STAT, TTY, TIME, COMMAND 필드의 정보를 리눅스 i386 레지스터 형식으로 출력한다.
- j: PPID, PID, PGID, SID, TTY, TPGID, STAT, UID, TIME, COMMAND 필드의 정보를 작업 제어에 관련된 형식으로 출력한다.
- l: F, S, UID, PID, PPID, C, PRI, NI, ADDR, SZ, PSS, WCHAN, TTY, TIME, CMD 필드의 정보를 출력하고 -l 옵션과 함께 PSS 필드를 추가하여 출력한다.
- o: 사용자 지정 형식으로 출력한다.
- s: UID, PID, PENDING, BLOCKED, IGNORED, CAUGHT, STAT, TTY, TIME, COMMAND 필드의 정보를 출력한다.
- u: USER, PID, %CPU, %MEM, VSZ, RSS, TTY, STAT, START, TIME, COMMAND 필드의 정보를 .
- v: PID, TTY, STAT, TIME, MAJFL, TRS, DRS, RSS, %MEM, COMMAND 필드의 정보를 출력한다.
- --format: 사용자 지정 형식으로 출력한다.

> 출력 필드의 내용을 변경하는 옵션
- -H: 프로세스를 계층형으로 출력한다.
- -m: 스레드 정보를 출력한다.
- -n namelist: 시스템 이름 리스트 파일(namelist)을 지정한다.
- -w: 너비에 맞게 잘려진 내용을 제한이 없는 너비의 내용으로 상세하게 출력한다.
- --cols: 스크린의 너비를 설정한다.
- --columns: 스크린의 너비를 설정한다.
- --cumulative: 죽은 자식 프로세스 데이터를 포함하여 출력한다.
- --forest: 아스키 문자의 프로세스 트리 형태로 출력한다.
- --html: HTML 이스케이프로 출력한다.
- --headers: 헤더 라인을 반복한다.
- --no-headers: 헤더를 보이지 않는다.
- --lines: 스크린의 높이를 설정한다.
- --rows: 스크린의 높이를 설정한다
- --sort: 정렬 방식을 지정한다.
- C: CPU 시간을 이용한다.
- N: 지정한 시스템 이름의 리스트 파일을 사용한다.
- O: 정렬 순서 지정하기 위한 옵션이다.
- S: 죽은 자식 프로세스의 데이터를 포함한다.
- c: 시스템 내부에 보관 중인 명령어 이름을 출력한다.
- e: 명령어에 대한 매개 변수와 함께 환경 변수를 출력한다.
- f: 아스키(*) 아트로 프로세스 트리를 출력한다.
- h: 헤더 라인은 출력하지 않는다.
- m: 모든 스레드 정보를 출력한다.
- n: WCHAN과 USER 필드를 숫자 값으로 출력한다.
- w: 필드의 너비에 맞게 잘려진 내용을 너비보다 상세하게 출력한다.
- --cols: 스크린의 너비를 설정한다.
- --columns: 스크린의 너비를 설정한다.
- --cumulative: 죽은 자식 프로세스 데이터를 포함한다.
- --forest: 아스키 아트의 프로세스 트리를 출력한다.
- --html: HTML 이스케이프를 출력한다.
- --headers: 헤더 라인을 반복한다.
- --no-headers: 헤더를 출력하지 않는다.
- --lines: 스크린의 높이를 설정한다.
- --rows: 스크린의 높이를 설정한다.
- --sort: 지정한 정렬 방식으로 출력한다.

> 프로그램의 정보
- -V: 버전 정보를 출력한다.
- L: 모든 형태의 지시자를 출력한다.
- V: 버전 정보를 출력한다.
- --help: 사용법을 출력한다.
- --info: 디버깅 정보를 출력한다.
- --version: 버전 정보를 출력한다.

> ps명령어를 실행한 사진
- ps명령어는 프로세스의 현재 상태를 출력한다.
<img width="369" alt="ps" src="https://github.com/deokhwan12/report/assets/133830093/9886ec18-cb39-4642-a91b-84e669eb44cc">

---
**3. jobs 명령어**
+ jobs 명령어는 작업의 상태를 표시하는 명령어다.

> 사용 구문
```
jobs [옵션]
```
```
-l: 프로세스 그룹 ID를 state 필드 앞에 출력한다.
-n: 프로세스 그룹 중에 대표 프로세스 ID를 출력한다.
-p: 각 프로세스 ID에 대해 한 행씩 출력한다.
command: 지정한 명령어를 실행한다.
```

> jobs 명령어를 실행한 사진
- 현재 환경의 작업 상태를 아래와 같이 확인할 수 있다.
<img width="365" alt="jobs1" src="https://github.com/deokhwan12/report/assets/133830093/e7938d72-099f-4080-a4ef-c25a0a823e25">

- -l 옵션은 state 필드 앞에 프로세스 ID를 출력한다.
<img width="356" alt="jobs2" src="https://github.com/deokhwan12/report/assets/133830093/222d928d-fa0b-48d3-b5fc-5675be9db4e7">

- 다음과 같이 하면 v로 시작하는 모든 프로세스 ID를 확인할 수 있다.
<img width="250" alt="jobs3" src="https://github.com/deokhwan12/report/assets/133830093/26efa63b-e10d-4933-9a2f-d4e5c6ffcc44">


> jobs 명령어로 확인할 수 있는 세션의 상태값
- Running: 작업이 일시 중단되지 않았고 종료하지 않고 계속 진행 중임을 뜻한다.
- Done: 작업이 완료되어 0을 반환하고 종료했음을 뜻한다.
- Done (code): 작업이 정상적으로 완료했으며, 0이 아닌 코드를 반환했음을 뜻한다.
- Stopped: 작업이 일시 중단됨을 뜻한다.
- Stopped (SIGTSTP): SIGTSTP 신호가 작업을 일시 중단했음을 뜻한다.
- Stopped (SIGSTOP): SIGSTOP 신호가 일시 중단했음을 뜻한다.
- Stopped (SIGTTIN): SIGTTIN 신호가 작업을 일시 중단했음을 뜻한다.
- Stopped (SIGTTOU): SIGTTOU 신호가 작업을 일시 중단했음을 뜻한다.

---
**4. kill 명령어**
+ kill 명령어는 프로세스에 종료 시그널을 보낸다.
+ 시스템에 얘기치 않은 문젝 생긴 프로세스를 종료시킬 수 있다.

> 사용 구문
```
kill [옵션] [PID]
```
```
kill [-s시그널][-a]pid...
kill -l [시그널]

pid ···: 종료시킬 프로세스 ID나 프로세스 이름을 지정한다.
-s: 전달할 시그널의 종류를 지정한다. 여기에는 시그널 이름이나 번호를 써준다.
-l: 시그널로 사용할 수 있는 시그널 이름들을 보여준다.
1(HUP): -HUP 프로세스를 재활성화한다.
9(KILL): 프로세스를 강제로 종료시킨다.
15(TERM): 프로세스를 정상적으로 정지합니다.
```
> 사용 예시
- pid가 '12345'인 프로세스를 종료
```
kill 12345
```
- pid가 '12345'인 프로세스를 강제 종료
```
kill -9 12345
또는
kill -SIGKILL 12345
```
- kill 명령어에서 지원하는 시그널(Signal) 목록을 출력
```
kill -l
```
